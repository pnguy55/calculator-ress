(this["webpackJsonpcalc-client"]=this["webpackJsonpcalc-client"]||[]).push([[0],{21:function(t,e,s){t.exports=s(53)},53:function(t,e,s){"use strict";s.r(e);s(22);var n=s(0),r=s.n(n),o=s(20),a=s.n(o),i=s(3),l=s(4),c=s(6),u=s(5),h=s(2),p=s(7),d=(s(27),function(t){return r.a.createElement("div",{style:{backgroundColor:"#939399",minHeight:"250px",height:"100vh",maxHeight:"100vh"}},t.children)}),g=function(t){return r.a.createElement("div",{className:"main-screen container",style:{backgroundColor:"#E6E6E6",width:"100%",height:"25vh",border:"3px solid #939399",borderRadius:"13px"}},r.a.createElement("div",{className:"row",style:{display:"flex",justifyContent:"flex-end",fontSize:"4vh",fontWeight:"600"}},r.a.createElement("div",null,t.wholeEquation)),r.a.createElement("div",{className:"row",style:{display:"flex",justifyContent:"flex-end",fontSize:"7vh",fontWeight:"600"}},t.currentExpression))},E=function(t){return r.a.createElement("div",{className:"col s6",style:{height:"100%",backgroundColor:"#808080",border:"3px solid #939399",borderRadius:"13px",display:"flex",justifyContent:"flex-end",alignItems:"center",fontSize:"6vh",whiteSpace:"nowrap",overflow:"hidden"},onClick:function(){t.historyScreenIndex>0?t.historyScreenPressHandler():console.log("No History Yet")}},void 0===t.displayHistoryEquation?"":t.displayHistoryEquation," = ",void 0===t.resultFromHistory?"":t.resultFromHistory)},f=function(t){function e(t){return Object(i.a)(this,e),Object(c.a)(this,Object(u.a)(e).call(this,t))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"col s3 operation-button",style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#000000",color:"#E69010",border:"5px solid #49494D",borderRadius:"13px",fontSize:"6vh",fontWeight:"800"},onClick:function(){t.props.historyViewIndexChangeHandler(t.props.operation)}},this.props.operation)}}]),e}(r.a.Component),m=function(t){function e(t){var s;return Object(i.a)(this,e),(s=Object(c.a)(this,Object(u.a)(e).call(this,t))).lastInputGetter=s.lastInputGetter.bind(Object(h.a)(s)),s}return Object(p.a)(e,t),Object(l.a)(e,[{key:"lastInputGetter",value:function(t){t.split("").pop()}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"col s3 number-button",style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#000000",color:"#ffffff",border:"5px solid #49494D",borderRadius:"13px",fontSize:"8vh",fontWeight:"800"},onClick:function(){t.lastInputGetter(t.props.currentExpression),t.props.numberPressHandler(t.props.number)}},r.a.createElement("p",null,this.props.number))}}]),e}(r.a.Component),x=function(t){function e(t){var s;return Object(i.a)(this,e),(s=Object(c.a)(this,Object(u.a)(e).call(this,t))).operatorPress=s.operatorPress.bind(Object(h.a)(s)),s}return Object(p.a)(e,t),Object(l.a)(e,[{key:"operatorPress",value:function(t,e){var s=e.split(""),n=s.pop();if(void 0===n&&"("===t)return!0;if(isNaN(n)&&"("===t)return!0;if(isNaN(n)&&"-"===t)return!0;if("AC"===t||"C"===t)return!0;if("."===t){if(isNaN(n)&&"."!==n&&")"!==this.props.lastInput)return!0;if("."===n||")"===this.props.lastInput)return!1;var r=s+n;r.split("");for(var o=r.length;o>0;o--){if("."===r[o-1])return!1;if(isNaN(r[o-1]))return!0}}if(")"===t){var a=!1;if(")"===this.props.lastInput)return!1;for(var i=0;i<s.length;i++)"("===s[i]&&(a=!0),")"===s[i]&&(a=!1);if(!1===a)return!1}return n>=0&&n<=9||(")"===n&&"="!==t||"="===t&&("="!==n&&(e!==this.props.lastResult&&(")"===n||void 0))))}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"col s3 operation-button",style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#000000",color:"#E69010",border:"5px solid #49494D",borderRadius:"13px",fontSize:"6vh",fontWeight:"800"},onClick:function(){t.operatorPress(t.props.operation,t.props.currentExpression)&&t.props.numberPressHandler(t.props.operation),"="===t.props.operation&&t.operatorPress(t.props.operation,t.props.currentExpression)&&t.props.equalsHandler(t.props.currentExpression)}},r.a.createElement("p",null,this.props.operation))}}]),e}(r.a.Component),y=function(t){return r.a.createElement("div",{className:"container row",style:{width:"100%",height:"65vh",backgroundColor:"#49494D",border:"3px solid #939399",borderRadius:"13px"}},t.children)},b=(s(8),function(t){function e(t){return Object(i.a)(this,e),Object(c.a)(this,Object(u.a)(e).call(this,t))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"col s8 offset-s2",style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#ffffff",color:"#000000",border:"5px solid #49494D",borderRadius:"13px",fontWeight:"800",fontSize:"2vh"},onClick:function(){t.props.deleteHistoryHandler()}},r.a.createElement("p",null,this.props.operation))}}]),e}(r.a.Component)),w=s(8),I=s(51),v=function(t){function e(t){var s;return Object(i.a)(this,e),(s=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={wholeEquation:[""],currentExpression:"",lastInput:"",lastResult:"",resultArray:[{equation:"",result:""}],displayHistoryEquation:{equation:"",result:""},historyIndex:0,historyViewIndex:1,historyLength:0,pgArray:[{equation:"",result:""}]},s.numberPress=s.numberPress.bind(Object(h.a)(s)),s.equalsPress=s.equalsPress.bind(Object(h.a)(s)),s.historyViewChange=s.historyViewChange.bind(Object(h.a)(s)),s.historyScreenPress=s.historyScreenPress.bind(Object(h.a)(s)),s.deleteHistory=s.deleteHistory.bind(Object(h.a)(s)),s}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=function(e){t.setState({historyLength:e.data},(function(){t.setState({historyViewIndex:t.state.historyLength})}))};w.get("https://calc-spring.herokuapp.com/postgres/equation/all",{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(s){!function(s){t.setState({pgArray:s.data},(function(){w.get("https://calc-spring.herokuapp.com/postgres/equation/count",{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(t){e(t)})).catch((function(t){console.log(t)}))}))}(s)})).catch((function(t){console.log(t)}))}},{key:"componentDidUpdate",value:function(){console.log(this.state)}},{key:"deleteHistory",value:function(t){var e=this,s=function(t){e.setState({historyLength:t.data},(function(){e.setState({historyViewIndex:e.state.historyLength},(function(){return e.setState({currentExpression:"",lastInput:"",wholeEquation:[""]})}))}))};w.delete("https://calc-spring.herokuapp.com/postgres/equation/all",{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(t){w.post("https://calc-spring.herokuapp.com/postgres/equation",{equation:"",result:""},{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(t){w.get("https://calc-spring.herokuapp.com/postgres/equation/all",{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(t){!function(t){e.setState({pgArray:t.data,historyViewIndex:1},(function(){w.get("https://calc-spring.herokuapp.com/postgres/equation/count",{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(t){s(t)})).catch((function(t){console.log(t)}))}))}(t)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}},{key:"historyViewChange",value:function(t){console.log("PrevHistoryViewIndex: "+this.state.historyViewIndex);var e=this.state.historyViewIndex,s=this.state.historyLength;console.log("newHistoryIndex: "+e+", historyLength: "+s),"prev"===t&&(e>0?e=parseInt(this.state.historyViewIndex)-1:console.log("end of history")),"next"===t&&(e<s?e=parseInt(this.state.historyViewIndex)+1:console.log("end of history")),console.log(e),e>0&&e<=s?this.setState({historyViewIndex:e},(function(){})):console.log("end of history")}},{key:"historyScreenPress",value:function(){var t=this,e=function(e){t.setState({historyLength:e.data},(function(){t.setState({historyViewIndex:t.state.historyLength})}))},s=this.state.pgArray[parseInt(this.state.historyViewIndex)-1].equation;console.log(s),this.setState({lastResult:"(".concat(this.state.pgArray[parseInt(this.state.historyViewIndex)-1].result,")"),lastInput:")",currentExpression:"".concat(this.state.pgArray[parseInt(this.state.historyViewIndex)-1].result),wholeEquation:[""],historyViewIndex:this.state.pgArray.length-1},(function(){w.post("https://calc-spring.herokuapp.com/postgres/equation",{equation:s,result:"".concat(parseFloat(I(s.toString().replace(/,/g,"")).toFixed(4).toString()))},{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(s){w.get("https://calc-spring.herokuapp.com/postgres/equation/all",{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(s){!function(s){t.setState({pgArray:s.data},(function(){w.get("https://calc-spring.herokuapp.com/postgres/equation/count",{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(t){e(t)})).catch((function(t){console.log(t)}))}))}(s)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}))}},{key:"numberPress",value:function(t){if("AC"===t)this.setState({currentExpression:"",lastInput:"",wholeEquation:[""]});else if("C"===t&&1===this.state.wholeEquation.length)this.setState({currentExpression:"",lastInput:""});else if("C"===t&&this.state.wholeEquation.length>1)this.setState({currentExpression:"(".concat(this.state.lastResult,")"),lastInput:")"});else if(")"===this.state.lastInput&&t>=0&&t<=9){var e="*"+t;this.setState({currentExpression:this.state.currentExpression.concat(e),lastInput:t},(function(){}))}else if("("===t&&""===this.state.lastInput)this.setState({currentExpression:this.state.currentExpression.concat(t),lastInput:t},(function(){}));else if("-"===t&&""===this.state.lastInput)this.setState({currentExpression:this.state.currentExpression.concat(t),lastInput:t},(function(){}));else if("-"===t&&"("===this.state.lastInput){console.log("hi");var s=t;this.setState({currentExpression:this.state.currentExpression.concat(s),lastInput:t},(function(){}))}else if("("!==t||"-"!==this.state.lastInput&&"+"!==this.state.lastInput&&"-"!==this.state.lastInput&&"/"!==this.state.lastInput)if("("===t&&(this.state.lastInput>=0&&this.state.lastInput<=9||")"===this.state.lastInput||this.state.lastInput)){var n="*"+t;this.setState({currentExpression:this.state.currentExpression.concat(n),lastInput:t},(function(){}))}else if("("===t&&isNaN(this.state.lastInput))this.setState({currentExpression:this.state.currentExpression.concat(t),lastInput:t},(function(){}));else if("-"===t&&"-"===this.state.lastInput){var r="("+t;this.setState({currentExpression:this.state.currentExpression.concat(r),lastInput:t},(function(){}))}else"="!==t&&this.setState({currentExpression:this.state.currentExpression.concat(t),lastInput:t},(function(){}));else this.setState({currentExpression:this.state.currentExpression.concat(t),lastInput:t},(function(){}))}},{key:"equalsPress",value:function(t){for(var e=this,s=function(t){e.setState({pgArray:t.data},(function(){w.get("https://calc-spring.herokuapp.com/postgres/equation/count",{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(t){n(t)})).catch((function(t){console.log(t)}))}))},n=function(t){e.setState({historyLength:t.data},(function(){e.setState({historyViewIndex:e.state.historyLength})}))},r=t.split(""),o=0,a=0,i=0;i<r.length;i++)"("===r[i]&&o++,")"===r[i]&&a++;if(o!==a)this.setState({currentExpression:"Invalid operation, did not close expression, please press 'AC'",lastInput:"",wholeEquation:[""]});else{var l=parseFloat(I(t.replace(/,/g,"")).toFixed(4)).toString();if(console.log(parseFloat(this.state.currentExpression),parseFloat(this.state.wholeEquation[0])),1===this.state.wholeEquation.length)this.setState({wholeEquation:parseFloat(this.state.currentExpression.toString().replace(/[()]/g,""))===parseFloat(this.state.wholeEquation.toString().replace(/[()]/g,""))?this.state.wholeEquation:this.state.wholeEquation.concat("(".concat(t,")")),currentExpression:"(".concat(l,")"),lastInput:")",lastResult:"".concat(l)},(function(){"(Infinity)"===e.state.lastResult||"(NaN"===e.state.lastResult?e.setState({currentExpression:"Invalid operation, please press 'AC'",lastInput:"",wholeEquation:[""]}):(console.log(e.state.wholeEquation.toString().replace(/,/g,"")),console.log("posted result: "+"".concat(parseFloat(I(e.state.wholeEquation.toString().replace(/,/g,"")).toFixed(4).toString()))),w.post("https://calc-spring.herokuapp.com/postgres/equation",{equation:e.state.wholeEquation.toString().replace(/,/g,""),result:e.state.lastResult},{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(t){w.get("https://calc-spring.herokuapp.com/postgres/equation/all",{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(t){s(t)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)})))}));else{var c,u,h,p=t.split(/(?=[-+/*()])/);console.log("pre-splice: "+p),p.splice(0,2),console.log("firstNumber: "+p[0],"WholeExpression: "+p),void 0!==p[0]?c=(c=p[0].split("")).shift():void 0===p[0]&&(p=t.toString().replace(/[()]/g,"")),p.length>2&&void 0!==p[0]?((u=p.join("").split("")).splice(0,1),h=u.join("")):h=p,")"===c&&(c="+"),"*"===p[1]?(p[0]="",p[1]="",c="*",h=p.join("")):"/"===p[1]?(p[0]="",p[1]="",c="/",h=p.join("")):"+"===p[1]&&(p[0]="",p[1]="",c="+",h=p.join("")),console.log("firstNumber: "+p[0],"WholeExpression: "+p,"currentExpression: "+h),")"===h[0]?h.splice(0,1).toString():console.log("not closing paren"),p===h&&((h=h[0].split(""))[0]="",h=h.join(""),console.log("fixed the undefined 1 number situation")),console.log("firstNumber: "+p[0],"WholeExpression: "+p,"currentExpression: "+h),"."===h&&((p=p[0].split(""))[0]="",h=p.toString().replace(/,/g,"")),this.setState({wholeEquation:void 0===c?p:c===h?this.state.wholeEquation.concat("".concat(h)):this.state.wholeEquation.concat("".concat(c,"(").concat(h,")")),currentExpression:c===h?l:"(".concat(l,")"),lastInput:")",lastResult:"".concat(l)},(function(){"(Infinity)"===e.state.lastResult||"(NaN"===e.state.lastResult?e.setState({currentExpression:"Invalid operation, please press 'C' or 'AC",lastInput:"",wholeEquation:[""]}):w.post("https://calc-spring.herokuapp.com/postgres/equation",{equation:e.state.wholeEquation.toString().replace(/,/g,""),result:e.state.lastResult},{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(t){w.get("https://calc-spring.herokuapp.com/postgres/equation/all",{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(t){s(t)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}))}}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(d,{className:"container"},r.a.createElement(g,{className:"row",style:{margin:"0px"},wholeEquation:this.state.wholeEquation,currentExpression:this.state.currentExpression}),r.a.createElement("div",{className:"row container",style:{width:"100%",height:"10vh",marginTop:"0px",marginBottom:"0px"}},r.a.createElement(f,{delta:"-1",operation:"prev",style:{fontSize:"2vh"},historyViewIndex:this.state.historyViewIndex,historyViewIndexChangeHandler:this.historyViewChange}),r.a.createElement(E,{style:{margin:"0px"},historyScreenIndex:this.state.pgArray.length,historyScreenPressHandler:this.historyScreenPress,displayHistoryEquation:this.state.pgArray[this.state.historyViewIndex-1].equation,resultFromHistory:this.state.pgArray[this.state.historyViewIndex-1].result}),r.a.createElement(f,{delta:"1",operation:"next",style:{fontSize:"2vh"},historyViewIndex:this.state.historyViewIndex,historyViewIndexChangeHandler:this.historyViewChange})),r.a.createElement(y,{style:{margin:"0px"}},r.a.createElement("div",{className:"row",style:{height:"18%",margin:"0px"}},r.a.createElement(x,{operation:"(",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression,wholeEquation:this.state.wholeEquation,lastInput:this.state.lastInput,lastResult:this.state.lastResult}),r.a.createElement(x,{operation:")",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression,wholeEquation:this.state.wholeEquation,lastInput:this.state.lastInput,lastResult:this.state.lastResult}),r.a.createElement(x,{operation:"AC",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression,wholeEquation:this.state.wholeEquation,lastInput:this.state.lastInput,lastResult:this.state.lastResult}),r.a.createElement(x,{operation:"C",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression,wholeEquation:this.state.wholeEquation,lastInput:this.state.lastInput,lastResult:this.state.lastResult})),r.a.createElement("div",{className:"row",style:{height:"18%",margin:"0px"}},r.a.createElement(m,{number:"7",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression}),r.a.createElement(m,{number:"8",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression}),r.a.createElement(m,{number:"9",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression}),r.a.createElement(x,{operation:"/",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression,wholeEquation:this.state.wholeEquation,lastInput:this.state.lastInput,lastResult:this.state.lastResult})),r.a.createElement("div",{className:"row",style:{height:"18%",margin:"0px"}},r.a.createElement(m,{number:"4",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression}),r.a.createElement(m,{number:"5",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression}),r.a.createElement(m,{number:"6",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression}),r.a.createElement(x,{operation:"*",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression,wholeEquation:this.state.wholeEquation,lastInput:this.state.lastInput,lastResult:this.state.lastResult})),r.a.createElement("div",{className:"row",style:{height:"18%",margin:"0px"}},r.a.createElement(m,{number:"1",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression}),r.a.createElement(m,{number:"2",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression}),r.a.createElement(m,{number:"3",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression}),r.a.createElement(x,{operation:"-",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression,wholeEquation:this.state.wholeEquation,lastInput:this.state.lastInput,lastResult:this.state.lastResult})),r.a.createElement("div",{className:"row",style:{height:"18%",margin:"0px"}},r.a.createElement(m,{number:"0",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression}),r.a.createElement(x,{operation:".",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression,wholeEquation:this.state.wholeEquation,lastInput:this.state.lastInput,lastResult:this.state.lastResult}),r.a.createElement(x,{operation:"=",equalsHandler:this.equalsPress,numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression,wholeEquation:this.state.wholeEquation,lastInput:this.state.lastInput,lastResult:this.state.lastResult}),r.a.createElement(x,{operation:"+",numberPressHandler:this.numberPress,currentExpression:this.state.currentExpression,wholeEquation:this.state.wholeEquation,lastInput:this.state.lastInput,lastResult:this.state.lastResult})),r.a.createElement("div",{className:"row",style:{height:"10%",margin:"0px"}},r.a.createElement(b,{operation:"Delete History",deleteHistoryHandler:this.deleteHistory}))))))}}]),e}(n.Component);a.a.render(r.a.createElement(v,null),document.querySelector("#root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.10fa5da9.chunk.js.map